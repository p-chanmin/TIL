# 프로세스 기술 및 제어



## 프로세스란

- 정의
  - 수행 중인 프로그램
  - 컴퓨터에서 수행 중인 한 프로그램의 인스턴스
  - 한 처리기 상에 할당되어 실행될 수 있는 개체
  - 명령들의 순차 실행, 현재 상태, 연관되어 있는 시스템 명령들의 집합 등으로 "활동의 단위"
- 구조
  - 프로그램 코드
  - 일련의 데이터
  - 프로세스 정보



## 프로세스 구성요소

- 프로그램이 실행될 때, 해당 프로세스는 여러 구성 요소들에 의해 유일하게 특정지어질 수 있음
- 식별자
- 상태
- 우선순위
- 프로그램 카운터
- 메모리 포인터
- 문맥 데이터
- 입출력 상태 정보
- 어카운팅 정보



## 프로세스 상태



### 2-상태 프로세스 모델

- 수행 및 비수행

  

### 5-상태 프로세스 모델

여러 큐를 사용, 특히 여러 개의 블록 큐

- 수행
- 준비
- 블록
- 생성
- 종료



### 프로세스 상태

- 보류 상태의 프로세스 도입
- 스와핑
  - 스왑-인, 스왑-아웃
  - 스왑- 아웃
    - 종료되지 않은 프로세스의 전체 이미지를 주기억장치로 부터 '스왑 공간'(디스크의 일부 swap space 또는 swap area)으로 이동시키는 것
  - 스완-인
    - 스왑-아웃된 프로세스의 전체 이미지를 스왑 공간으로부터 주기억장치로 적재하는 것
- 스와핑도 I/O 연산
- 스와핑의 필요성
  - 더 많은 가용 메모리를 확보하기 위해
  - 주기억장치에 준비 상태의 프로세스가 없을 때



## 프로세스 기술 : OS

- OS : 프로세스와 자원 관리
- OS 제어 구조
  - 각 프로세스 및 자원의 현재 상태에 대한 정보를 유지
  - 보통 OS가 관리하는 각 개체를 위한 테이블이 구성됨
    - 메모리 테이블
    - I/O 테이블
    - 파일 테이블
    - 프로세스 테이블



## 프로세스 Context

- 문맥
  - 커널이 관리하는 태스크의 자원과 제어 흐름의 집합
  - 3 부분으로 구성
    - 시스템 문맥
    - 메모리 문맥
    - 하드웨어 문맥



## 프로세스 기술 : 프로세스 제어 구조

- 프로세스 속성
  - 프로세스를 제어하기 위해 OS가 사용하는 정보
  - 프로세스 제어 블록 = 속성들의 집합
  - PCB = 태스크 제어 블록 = 프로세스 디스크립터
- 프로세스 이미지
  - 프로그램 code 또는 text
  - 데이터
  - 스택
  - PCB (Process Conrol Block)
    - 프로세스 식별
    - 처리기 상태 정보
    - 프로세스 제어 정보



### PCB

- 프로세스 제어 블록
- OS에 의해 관리
- 다수의 프로세스를 지원하고 다중 처리를 제공할 수 있게 지원하는 주요 자료구조
- 프로세스 식별: 숫자로 된 식별자
- 처리기 상태 정보
- 프로세스 제어 정보



## 프로세스 제어

- 모드 전환 = 모드 전이
- 처리기 실행 모드
  - 대부분의 처리기는 최소한 두 가지의 수행 모드를 제공
  - 사용자 모드
  - 시스템 모드
- 프로세스 교환
  - 선점 및 디스패치
  - 문맥 교환



### 프로세스 제어 : 프로세스 교환

- 프로세스 상태 변경
  1. 프로그램 카운터 및 다른 레지스터들을 포함하여 처리기의 문맥을 저장
  2. 현재 수행 상태에 있는 프로세스의 PCB를 갱신
  3. 그 PCB를 준비큐, 블록큐 또는 준비/보류 큐 중 하나에 삽입
  4. 실행할 다른 프로세스를 선택
  5. 새로 선택된 프로세스 PCB 갱신
  6. 메모리 관리 자료구조 갱신
  7. 선택된 프로세스의 문맥을 복원